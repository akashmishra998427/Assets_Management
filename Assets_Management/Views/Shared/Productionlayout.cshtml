@await Html.PartialAsync("HeaderPritialView")
<html lang="en">

	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Inventory</title>
		<link rel="shortcut icon" href="~/Images/rc.png" type="image/x-icon">
		<!-- Bootstrap CSS -->
		<script src="~/bootstrap/js/bootstrapbundle.js"></script>
		<link href="~/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
		<link href="~/bootstrap/css/bootstrap.rtl.min.css" rel="stylesheet" />
		<!-- jQuery -->
		<script src="~/lib/jquery/dist/jquery.min.js"></script>
		<!-- DataTable -->
		<link href="~/assets/datatable1/css/datatable.css" rel="stylesheet" />
		<script src="~/assets/datatable1/js/datatable.js"></script>
		<!-- Custom JavaScript -->
		<script src="~/customjavascript/commoncontrol.js"></script>
		<!-- FontAwesome -->
		<script src="~/font-awesome/js/all.js"></script>
		<script src="~/font-awesome/js/all.min.js"></script>
		<link href="~/font-awesome/css/all.css" rel="stylesheet" />
		<link href="~/font-awesome/css/all.min.css" rel="stylesheet" />
		<!-- Select 2 -->
		<link href="~/assets/select2/css/select2.css" rel="stylesheet" />
		<script src="~/assets/select2/js/select2.js"></script>
		<!-- Sweet Alert -->
		<script src="~/assets/sweetalert/sweetalertjs/sweetalert.js"></script>
		<!-- DatePicker -->
		<script src="~/assets/datepicker/js/datepicker.js"></script>
		<link href="~/assets/datepicker/css/datepicker.css" rel="stylesheet" />
		<!-- Download to Excel -->
		<script src="~/dowenlodtoexcal libraray/excaldowenlod.js"></script>
		<!-- Axios library.js -->
		<script src="~/customjavascript/axuse.js"></script>
		<!-- Custom Css Starts -->
		<style>
		    #mainContentAria {
			   width: 100vw;
			   height: 92.5vh;
		    }
		    .modal {
			   z-index: 99999 !important;
		    }
		    #mainContent {
			   width: 84%;
			   padding: 20px;
			   height: 92.5vh;
			   background-color: rgba(240, 240, 240, 0.822);
		    }
		    #sidebar {
			   background-color: #0A4057;
			   color: white;
			   width: 16%;
			   height: 92.5vh;
			   transition: all 0.3s ease;
			   transition: all 0.3s ease;
			   transition: transform 0.3s ease;
			   transform: translateX(0);
			   z-index: 9999;
			   box-shadow: 0 12px 14px rgba(44, 43, 43, 0.82);
			   border: 1px solid #0097d7;
			   border-top-right-radius: 3px;
		    }
		    #sidebar > nav > a {
			   color: white;
			   text-decoration: none;
			   transition: color 0.3s ease, background-color 0.3s ease;
		    }
		    #sidebar > nav > a:hover {
			   color: #f0f0f0;
			   background-color: rgba(255, 255, 255, 0.1);
			   border-radius: 5px;
		    }
		    #sidebar > nav > .collapse > a:hover {
			   color: #007bff;
			   background-color: rgba(0, 123, 255, 0.1);
		    }
		    #sidebar > nav > a.active {
			   color: #007bff;
			   font-weight: bold;
		    }
		    #sidebar > nav > .collapse {
			   transition: all 0.3s ease;
		    }
		    #summaryWindows > a {
			   color: white;
			   text-decoration: none;
		    }
		    #sidebar > nav > a[data-bs-toggle="collapse"]:hover {
			   background-color: rgba(0, 123, 255, 0.1);
		    }
		    #sidebar.hidden {
			   display: none !important;
			   transform: translateX(-100%);
		    }
		    #sidebar > nav > a {
			   color: white;
			   text-decoration: none;
		    }
		    #sidebar > nav > a {
			   color: white;
			   text-decoration: none;
			   transition: all 0.3s ease;
			   position: relative;
			   border-radius: 5px;
			   margin: 2px 0;
		    }
		    #sidebar > nav > a:hover,
		    #sidebar > nav > .collapse > a:hover {
			   background-color: rgba(255, 255, 255, 0.15);
			   color: #ffffff;
			   transform: translateX(3px);
		    }
		    #sidebar > nav > a.active-menu {
			background-color: rgba(0, 123, 255, 0.25);
			color: #ffffff;
			font-weight: bold;
		    }
		    #sidebar > nav > .collapse > a.active-menu {
			    background-color: rgba(0, 123, 255, 0.25);
			    color: #ffffff;
			    font-weight: bold;
		    }
		    #sidebar > nav > a.has-active-submenu {
			    background-color: rgba(0, 123, 255, 0.15);
			    color: #ffffff;
			    font-weight: bold;
		    }
		    #sidebar > nav > a.active-menu:before,
		    #sidebar > nav > .collapse > a.active-menu:before,
		    #sidebar > nav > a.has-active-submenu:before {
			    content: "";
			    position: absolute;
			    left: 0;
			    top: 0;
			    height: 100%;
			    width: 4px;
			    background-color: #007bff;
			    border-radius: 0 2px 2px 0;
		    }
		    #sidebar .collapse .collapse a {
			    padding-left: 2.5rem !important;
			    font-size: 0.95em;
		    }
		    #sidebar .collapse .collapse .collapse a {
			    padding-left: 3.5rem !important;
			    font-size: 0.9em;
		    }
		    #sidebar .collapse .active-menu,
		    #sidebar .collapse .collapse .active-menu {
			    background-color: rgba(0, 123, 255, 0.25);
			    color: #ffffff !important;
			    font-weight: bold;
		    }
		    #sidebar .collapse a.active-menu:before,
		    #sidebar .collapse .collapse a.active-menu:before {
			    content: "";
			    position: absolute;
			    left: 0;
			    top: 0;
			    height: 100%;
			    width: 4px;
			    background-color: #007bff;
			    border-radius: 0 2px 2px 0;
		    }
		    @@media only screen and (max-width: 400px) {
				#sidebar .collapse.show, #sidebar .collapse .collapse.show {
					display: block !important;
					position: absolute !important;
					background-color: #111d2d !important;
					min-width: 180px !important;
					border-radius: 0 5px 5px 0 !important;
					box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.3) !important;
					padding: 5px !important;
					z-index: 10000 !important;
				}
				#sidebar > nav > .collapse.show {
					left: 60px !important;
					top: auto !important;
				}
				#sidebar > nav > .collapse > .collapse.show {
					left: 180px !important;
					top: 0 !important;
					z-index: 10001 !important;
				}
				#sidebar > nav > .collapse > .collapse > .collapse.show {
					left: 180px !important;
					top: 0 !important;
					z-index: 10002 !important;
				}
				#sidebar .collapse.show .collapse.show a {
					padding-left: 1rem !important;
				}
				#sidebar .collapse.show .nav-link span,
				#sidebar .collapse.show .collapse.show .nav-link span {
					display: inline-block !important;
				}
				}
				@@media only screen and (max-width: 1233px) {
				#sidebar {
					width: 23%;
				}
				#mainContent {
					width: 81.1%;
				}
				}
				@@media only screen and (max-width: 991px) {
				#sidebar {
					display: none
				}
				#mainContent {
					width: 100%;
				}
		    }
		    @@media only screen and (max-width: 700px) {
				#sidebar {
					width: 17% !important;
				}

				#mainContent {
					width: 100%;
				}

				#sidebar .nav-link span {
					display: none !important;
				}

				#sidebar .nav-link i {
					font-size: 1.5rem !important;
					margin: 0 auto !important;
					display: block !important;
					text-align: center !important;
				}


				#sidebar .nav-link {
					text-align: center !important;
					padding: 0.75rem 0 !important;
				}

				#sidebar .nav-link .fa-arrow-right {
					display: none !important;
				}

				#sidebar .collapse.show {
					display: block !important;
					position: absolute !important;
					left: 60px !important;
					top: auto !important;
					background-color: #111d2d !important;
					min-width: 180px !important;
					border-radius: 0 5px 5px 0 !important;
					box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.3) !important;
					padding: 5px !important;
					z-index: 10000 !important;
				}

				#sidebar .collapse .collapse.show {
					left: 180px !important;
					top: 0 !important;
				}

				#sidebar .collapse.show .nav-link span {
					display: inline-block !important;
				}

				#sidebar .collapse.show .nav-link i:not(.fa-arrow-right) {
					font-size: 1rem !important;
					display: inline-block !important;
					margin-right: 0.5rem !important;
					text-align: left !important;
				}

				#sidebar .collapse.show .nav-link[data-bs-toggle="collapse"] {
					position: relative !important;
				}

				#sidebar .collapse.show .nav-link[data-bs-toggle="collapse"]::after {
					content: "›" !important;
					position: absolute !important;
					right: 10px !important;
					top: 50% !important;
					transform: translateY(-50%) !important;
					font-size: 1.2rem !important;
					font-weight: bold !important;
				}

				#sidebar > nav > a.active-menu i {
					color: #007bff;
				}

				#sidebar > nav > a.active-menu:before {
					width: 3px;
					left: 0;
					top: 0;
					height: 100%;
				}
		    }
		    @@media (max-height: 764px) {
				#sidebar, #mainContent {
					height: 120vh;
				}
		    }
		    @@media (max-height: 700px) {
				#sidebar, #mainContent {
					height: 170vh;
				}
		    }
		    @@media (max-height: 644px) {
				#sidebar, #mainContent {
					height: 150vh;
				}
		    }
		    @@media (max-height: 550px) {
				#sidebar, #mainContent {
					height: 152vh !important;
				}
		    }
		    @@media (max-height: 510px) {
				#sidebar, #mainContent {
					height: 172vh !important;
				}
		    }
		    @@media (max-height: 450px) {
				#sidebar, #mainContent {
					height: 217vh !important;
				}
		    }
		</style>
	</head>
	<body>
		<div class="d-flex" id="mainContentAria">
			<div style="" id="sidebar" class="text-dark">
				<nav class="nav flex-column p-2">
					<!-- Home -->
					<a class="nav-link fw-bold" href="@Url.Action("Master", "Login")">
						<i class="fa-solid fa-house-circle-check me-2 text-primary"></i> <span>Home</span>
					</a>
					<!-- Dashboard -->
					<a class="nav-link fw-bold" href="@Url.Action("Production", "Dashboard")">
						<i class="fa-solid fa-gauge-high me-2 text-primary"></i> <span>Dashboard</span>
					</a>
					<!-- Machine -->
					<a class="nav-link fw-bold" data-bs-toggle="collapse" href="#Machine">
						<i class="fa-solid fa-wrench"></i> <span>Machine</span>
					</a>
					<div class="collapse" id="Machine">
						<a class="nav-link ms-3 text-light" href="@Url.Action("MachineComplaint","Machine")">
							<i class="fa-solid fa-arrow-right me-2"></i> <span>Complaint Report</span>
						</a>
						<a class="nav-link ms-3 text-light" href="@Url.Action("MachineReport", "Machine")">
							<i class="fa-solid fa-arrow-right me-2"></i> <span>Machine Report</span>
						</a>
						<a class="nav-link ms-3 text-light" href="@Url.Action("addComplaint","Machine")">
							<i class="fa-solid fa-arrow-right me-2"></i> <span> Add  Complaint</span>
						</a>
						<a class="nav-link ms-3 text-light" href="@Url.Action("EditMachineDetails","Machine")">
							<i class="fa-solid fa-arrow-right me-2"></i> <span> Update Complaint</span>
						</a>
					</div>
				</nav>
			</div>
			<div id="mainContent">
				@RenderBody()
			</div>
		</div>
		<script>
			$(document).ready(function() {
				function isMobile() {
					return $(window).width() <= 700;
				}
				$('#sidebar nav a[data-bs-toggle="collapse"]').on('click', function(e) {
					const $this = $(this);
					const targetId = $this.attr('href');
					const $targetCollapse = $(targetId);
					const isSubSubMenu = $this.closest('.collapse').length > 0;
					if (isSubSubMenu) {
						e.stopPropagation();
						const $siblingMenus = $this.closest('.collapse')
												   .find('a[data-bs-toggle="collapse"]')
												   .not($this);
						$siblingMenus.each(function() {
							const siblingTargetId = $(this).attr('href');
							$(siblingTargetId).collapse('hide');
						});
						$targetCollapse.collapse('toggle');
					} else {
						$('#sidebar > nav > .collapse').not(targetId).collapse('hide');
						$('#sidebar .collapse .collapse.show').collapse('hide');
					}
					updateActiveStates($this);
				});
				$('#sidebar nav a:not([data-bs-toggle="collapse"])').on('click', function() {
					$('#sidebar nav a').removeClass('active-menu');
					$(this).addClass('active-menu');
					updateParentIndicators();
				});
				function updateActiveStates($clickedItem) {
					if ($clickedItem.closest('.collapse').length === 0) {
						$('#sidebar > nav > a').not($clickedItem).removeClass('active-menu');
						$clickedItem.toggleClass('active-menu');
					} else {
						const $siblings = $clickedItem.closest('.collapse').find('a');
						$siblings.not($clickedItem).removeClass('active-menu');
						$clickedItem.toggleClass('active-menu');
					}
					updateParentIndicators();
				}
				function updateParentIndicators() {
					$('#sidebar nav a').removeClass('has-active-submenu');
					$('#sidebar .active-menu').each(function() {
						const $parents = $(this).parents('.collapse');
						$parents.each(function() {
							const parentId = $(this).attr('id');
							$('a[href="#' + parentId + '"]').addClass('has-active-submenu');
						});
					});
				}
				if (isMobile()) {
					$('#sidebar .collapse').on('show.bs.collapse', function() {
						if (isMobile()) {
							const $submenu = $(this);
							const isNestedSubmenu = $submenu.parent().closest('.collapse').length > 0;
							if (isNestedSubmenu) {
								const parentLeft = $submenu.parent().closest('.collapse').css('left');
								const parentWidth = $submenu.parent().closest('.collapse').outerWidth();
								const left = parseInt(parentLeft) + parentWidth;
								$submenu.css({
									'position': 'absolute',
									'left': left + 'px',
									'top': '0',
									'z-index': '10001'
								});
							} else {
								$submenu.css({
									'position': 'absolute',
									'left': '60px',
									'top': $submenu.prev().position().top + 'px',
									'z-index': '10000'
								});
							}
						}
					});
					$(document).on('click', function(e) {
						if (isMobile() && !$(e.target).closest('#sidebar').length) {
							$('#sidebar .collapse.show').collapse('hide');
						}
					});
				}
				function highlightCurrentPage() {
					const currentUrl = window.location.pathname;
					let $matchingItem = $('#sidebar a[href="' + currentUrl + '"]');
					if ($matchingItem.length === 0) {
						$('#sidebar a').each(function() {
							const href = $(this).attr('href');
							if (href && currentUrl.indexOf(href) > -1 && href !== '#') {
								$matchingItem = $(this);
								return false;
							}
						});
					}
					if ($matchingItem.length > 0) {
						$matchingItem.addClass('active-menu');
						$matchingItem.parents('.collapse').each(function() {
							$(this).addClass('show');
							$('a[href="#' + $(this).attr('id') + '"]').addClass('has-active-submenu');
						});
					}
				}
				highlightCurrentPage();
				$(window).on('resize', function() {
					if (!isMobile()) {
						$('#sidebar .collapse').css({
							'position': '',
							'left': '',
							'top': '',
							'z-index': ''
						});
					}
				});
			});
		</script>
	</body>
</html>